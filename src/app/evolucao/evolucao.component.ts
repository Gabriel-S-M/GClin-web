import { Component, OnInit, ElementRef, ViewChild } from "@angular/core";
import { PacienteService } from "app/service/paciente.service";
import { ActivatedRoute, Router } from "@angular/router";
import * as jsPDF from "jspdf";

@Component({
  selector: "app-evolucao",
  templateUrl: "./evolucao.component.html",
  styleUrls: ["./evolucao.component.scss"]
})
export class EvolucaoComponent implements OnInit {
  @ViewChild("toPDF") toPDF: ElementRef;
  key: string;
  pacientes: any;
  paciente: any;
  listaEvolucoes: any[] = [];

  constructor(
    private _pacienteService: PacienteService,
    private route: ActivatedRoute,
    private _router: Router
  ) {}

  ngOnInit() {
    this.route.params.subscribe(parametros => {
      if (parametros["key"]) {
        this.key = parametros["key"];
        this.pacientes = this._pacienteService.get(this.key);

        this.pacientes.forEach(x => {
          const lista = x as Array<any>;

          lista.forEach(paciente => {
            this.paciente = paciente;

            if (this.paciente.evolucoes) {
              this.listaEvolucoes = Object.keys(this.paciente.evolucoes).map(
                x => this.paciente.evolucoes[x]
              );
            }
          });
        });
      }
    });
  }
  voltar() {
    this._router.navigate(["/paciente"]);
  }

  gerarPDF() {
    var imgData =
      "data:image/jpeg;base64,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";
    const doc = new jsPDF();
    doc.addImage(imgData, "PNG", 40, 5, 130, 25);
    const specialElementHandlers = {
      "#editor": function(element, renderer) {
        return true;
      }
    };

    const toPDF = this.toPDF.nativeElement;
    doc.fromHTML(toPDF.innerHTML, 15, 30, {
      width: 220,
      elementHandlers: specialElementHandlers
    });

    doc.output("dataurlnewwindow");
  }
}
